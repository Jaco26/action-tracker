(function(e){function t(t){for(var n,c,i=t[0],s=t[1],u=t[2],d=0,m=[];d<i.length;d++)c=i[d],a[c]&&m.push(a[c][0]),a[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);l&&l(t);while(m.length)m.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,i=1;i<r.length;i++){var s=r[i];0!==a[s]&&(n=!1)}n&&(o.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},a={app:0},o=[];function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=s;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("64a9"),a=r.n(n);a.a},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:"",id:"app"}},[r("b-row",{attrs:{"no-gutters":""}},[r("b-col",[e.isAuthenticated()?r("the-navbar"):e._e()],1)],1),r("b-row",{attrs:{"no-gutters":""}},[r("b-col",[r("router-view")],1)],1)],1)},o=[],c=r("cebc"),i=r("2f62"),s=r("bc3a"),u=r.n(s),l=u.a.create({baseURL:"/api/v1"}),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-navbar",{attrs:{type:"dark",variant:"dark"}},[r("b-navbar-nav",{staticStyle:{width:"100%"}},[r("b-row",{staticStyle:{width:"100%"},attrs:{"justify-content-between":""}},[r("b-col",{staticClass:"d-flex justify-content-start"},[r("b-nav-item",{attrs:{to:"/"}},[e._v("Home")]),r("b-nav-item",{attrs:{to:"/reports"}},[e._v("Reports")])],1),r("b-col",{staticClass:"d-flex justify-content-end"},[r("b-nav-item-dropdown",{attrs:{text:"Account"}},[r("b-dropdown-item",{on:{click:e.logout}},[e._v("Logout")])],1)],1)],1)],1)],1)},m=[],p={computed:Object(c["a"])({},Object(i["c"])("auth",["isAuthenticated"])),methods:Object(c["a"])({},Object(i["b"])("auth",["logout"]))},f=p,g=r("2877"),h=Object(g["a"])(f,d,m,!1,null,null,null),b=h.exports,v={components:{theNavbar:b},computed:Object(c["a"])({},Object(i["c"])("auth",["isAuthenticated"]),Object(i["d"])("auth",["accessToken"]),Object(i["d"])("myActions",["actions","actionsLoading","categories","categoriesLoading"])),methods:Object(c["a"])({},Object(i["b"])("myActions",["getAllCategories","getAllActions"]),{shouldFetch:function(e){return this[e]&&!this[e].length&&!this["".concat(e,"Loading")]}}),watch:{accessToken:{immediate:!0,handler:function(e){e&&(l.defaults.headers.common["Authorization"]||(l.defaults.headers.common["Authorization"]="Bearer ".concat(e)),this.shouldFetch("actions")&&this.getAllActions(),this.shouldFetch("categories")&&this.getAllCategories())}}}},y=v,_=(r("034f"),Object(g["a"])(y,a,o,!1,null,null,null)),w=_.exports,E=r("8c4f"),T=r("75fc"),O=(r("7f7f"),r("5176")),A=r.n(O),k=r("f499"),x=r.n(k),j=(r("6762"),r("2fdb"),r("28a5"),r("ac6a"),r("a4bb")),S=r.n(j),D=r("7618"),C=r("a745"),N=r.n(C),L=r("768b"),R=r("0a0d"),I=r.n(R),P=(r("a481"),r("795b")),$=r.n(P),G=(r("5df3"),r("96cf"),r("3b8d")),V="auth";function F(e){var t=localStorage.getItem(V);return t&&(t=JSON.parse(t),S()(t).forEach(function(r){void 0!==e[r]&&(e[r]=t[r])})),e}function z(){return{accessToken:"",refreshToken:"",errors:[]}}var U={namespaced:!0,state:F(z()),mutations:{handleLoginResponse:function(e,t){e.errors=t.errors,e.accessToken=t.data.access_token,e.refreshToken=t.data.refresh_token}},actions:{register:function(){var e=Object(G["a"])(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,n=r.username,a=r.password,e.prev=2,e.next=5,l.post("/auth/register",{username:n,password:a});case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e["catch"](2),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,null,[[2,7]])}));function t(t,r){return e.apply(this,arguments)}return t}(),login:function(){var e=Object(G["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,o,c,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=t.state,o=r.username,c=r.password,e.prev=2,e.next=5,l({url:"/auth/login",method:"POST",data:{username:o,password:c}});case 5:i=e.sent,n("handleLoginResponse",i.data),n("SAVE_TO_STORAGE",{STORAGE_KEY:V,keys:["accessToken","refreshToken"]}),lt.push({name:"home"}),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),n("SET_STATE_VAL",["errors",[].concat(Object(T["a"])(a.errors),[e.t0])]);case 14:case"end":return e.stop()}},e,null,[[2,11]])}));function t(t,r){return e.apply(this,arguments)}return t}(),logout:function(e){var t=e.commit,r=e.state;$.a.all([l({url:"/auth/logout-access",method:"POST"}),l({url:"/auth/logout-refresh",method:"POST",headers:{Authorization:"Bearer ".concat(r.refreshToken)}})]).then(function(e){lt.push({name:"login"})}).catch(function(e){console.error("ERROR LOGIN OUT",e)}).finally(function(){t("CLEAR_FIELDS",S()(r)),t("SAVE_TO_STORAGE",{STORAGE_KEY:V,keys:S()(r)})})},refresh:function(){var e=Object(G["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,n=t.state,e.prev=1,e.next=4,l({url:"/auth/refresh",method:"POST",headers:{Authorization:"Bearer ".concat(n.refreshToken)}});case 4:a=e.sent,r("SET_STATE_VAL",["accessToken",a.data.data.access_token]),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),r("SET_STATE_VAL",["errors",[].concat(Object(T["a"])(n.errors),[e.t0])]);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));function t(t){return e.apply(this,arguments)}return t}()},getters:{parseJWT:function(e){if(e.accessToken){var t=e.accessToken.split(".")[1],r=t.replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(window.atob(r))}return null},isAuthenticated:function(e,t){return t.parseJWT?function(){var e=I()().valueOf()/1e3,r=t.parseJWT.exp;return r>e}:function(){return!1}}}},M={state:{categories:[],categoriesLoading:!1,actions:[],actionsLoading:!1,errors:[]},actions:{getAllCategories:function(){var e=Object(G["a"])(regeneratorRuntime.mark(function e(t,r){var n,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=t.state,e.prev=1,n("LOADING",["categories",!0]),e.next=5,l.get("/action-category/");case 5:o=e.sent,n("SET_STATE_VAL",["categories",o.data.data.action_categories]),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),n("SET_STATE_VAL",["errors",[].concat(Object(T["a"])(a.errors),[e.t0])]);case 12:return e.prev=12,n("LOADING",["categories",!1]),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,9,12,15]])}));function t(t,r){return e.apply(this,arguments)}return t}(),getAllActions:function(){var e=Object(G["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,r("LOADING",["actions",!0]),e.next=5,l.get("/action-taken/");case 5:n=e.sent,r("SET_STATE_VAL",["actions",n.data.data.actions]),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),r("ERROR",e.t0);case 12:return e.prev=12,r("LOADING",["actions",!1]),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,9,12,15]])}));function t(t){return e.apply(this,arguments)}return t}(),getAllActionsByDate:function(e,t){e.commit},getAllActionsByCategory:function(e,t){e.commit},deleteAction:function(e,t){e.commit},editAction:function(e,t){e.commit}}},J={state:{selectedCategoryId:"",description:"",currentDate:"",overrideTime:"",errors:[]},actions:{addNewAction:function(){var e=Object(G["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,n=t.dispatch,a=t.state,e.prev=1,o=a.overrideTime?new Date(a.currentDate+" "+a.overrideTime).toISOString():(new Date).toISOString(),c={ts:o,description:a.description,category_id:a.selectedCategoryId},e.next=6,l.post("/action-taken/",{action:c});case 6:e.sent,n("myActions/getAllActions",null,{root:!0}),r("CLEAR_FIELDS",["selectedCategoryId","description","overrideTime"]),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),r("ERROR",e.t0);case 14:case"end":return e.stop()}},e,null,[[1,11]])}));function t(t){return e.apply(this,arguments)}return t}()}},Y={state:{categoryName:"",categoryEditId:"",categoryEditName:"",categoryDeleteId:"",categoryDeleteName:"",confirmCategoryDelete:!1,categoryNameLoading:!1,errors:[]},actions:{addNewCategory:function(){var e=Object(G["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,n=t.state,!n.categoryName){e.next=18;break}return e.prev=2,r("LOADING",["categoryName",!0]),e.next=6,l.post("/action-category/",{category_name:n.categoryName.trim()});case 6:a=e.sent,r("myActions/SET_STATE_VAL",["categories",a.data.data.action_categories],{root:!0}),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](2),console.log(e.t0),r("SET_STATE_VAL",["errors",[].concat(Object(T["a"])(n.errors),[e.t0])]);case 14:return e.prev=14,r("LOADING",["categoryName",!1]),r("CLEAR_FIELDS",["categoryName"]),e.finish(14);case 18:case"end":return e.stop()}},e,null,[[2,10,14,18]])}));function t(t){return e.apply(this,arguments)}return t}(),submitEdit:function(){var e=Object(G["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,n=t.dispatch,a=t.state,!a.categoryEditName){e.next=14;break}return e.prev=2,e.next=5,l.put("/action-category/",{new_category_name:a.categoryEditName,category_id:a.categoryEditId});case 5:n("myActions/getAllCategories",null,{root:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),r("SET_STATE_VAL",["errors",[].concat(Object(T["a"])(a.errors),[e.t0])]);case 11:return e.prev=11,r("CLEAR_FIELDS",["categoryEditId","categoryEditName"]),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[2,8,11,14]])}));function t(t){return e.apply(this,arguments)}return t}(),deleteCategory:function(){var e=Object(G["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,n=t.dispatch,a=t.state,e.prev=1,e.next=4,l.delete("/action-category/".concat(a.categoryDeleteId));case 4:e.sent,n("myActions/getAllCategories",null,{root:!0}),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0),r("SET_STATE_VAL",["errors",[].concat(Object(T["a"])(a.errors),[e.t0])]);case 12:case"end":return e.stop()}},e,null,[[1,8]])}));function t(t){return e.apply(this,arguments)}return t}()}};n["a"].use(i["a"]);var B={LOADING:function(e,t){var r=Object(L["a"])(t,2),n=r[0],a=r[1];void 0!==e["".concat(n,"Loading")]?e["".concat(n,"Loading")]=a:console.error("state.".concat(n,"Loading does not exist."))},MAP_TO_STATE:function(e,t){var r=t.payload,n=t.nested,a=void 0!==n&&n,o=function(e){return e&&!N()(e)&&"object"===Object(D["a"])(e)};(function e(t,r){var n=S()(t);n.forEach(function(n){o(t[n])&&a&&void 0!==r[n]?e(t[n],r[n]):void 0!==r[n]&&(t[n]=r[n])})})(e,r)},SET_STATE_VAL:function(e,t){var r=Object(L["a"])(t,4),n=r[0],a=r[1],o=r[2],c=void 0!==o&&o,i=r[3],s=void 0!==i&&i;c?B.MAP_TO_STATE(e[n],{payload:a,nested:s}):e[n]=a},SET_STATE:function(e,t){var r=t.key,n=t.data,a=e;r.split(".").reduce(function(e,t,r,o){return r===o.length-1?a[t]=n:a=a[t],a},a)},ERROR:function(e,t){N()(e.errors)?e.errors.push(t):console.error("State does not have an Array property named `errors`")},SAVE_TO_STORAGE:function(e,t){var r=t.STORAGE_KEY,n=t.keys,a=S()(e).reduce(function(t,r){return n.includes(r)&&(t[r]=e[r]),t},{});localStorage.setItem(r,x()(a))},CLEAR_FIELDS:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.forEach(function(t){e[t]=""})}};function K(e,t){return t.mutations=Object(c["a"])({},t.mutations,B),A()(e,t)}var q=new i["a"].Store(W({strict:!1,modules:{auth:U,myActions:M,newAction:J,actionCategory:Y}}));function W(e){var t=K({namespaced:!0,state:{},mutations:{},actions:{},getters:{},modules:{}},e);return t.modules=H(t.modules),t}function H(e){return S()(e).reduce(function(t,r){return t[r]=W(e[r]),t},{})}function Q(e,t){var r=q.state;return[].concat(Object(T["a"])(e.split("/")),[t]).reduce(function(e,t){return r=r[t],r},r)}function X(e,t){return t.reduce(function(t,r){return t[r]={get:function(){return Q(e,r)},set:function(t){return q.commit(e+"/SET_STATE",{key:r,data:t})}},t},{})}var Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-row",[r("b-col",[r("b-card",{attrs:{"no-body":""}},[r("b-tabs",{attrs:{card:"",pills:""}},[r("b-tab",{attrs:{title:"New Action",active:""}},[r("the-new-action-form")],1),r("b-tab",{attrs:{title:"Action Categories"}},[r("b-row",[r("b-col",[r("the-new-category-form")],1)],1),r("b-row",{staticClass:"my-4"},[r("b-col",[r("the-categories-list")],1)],1)],1)],1)],1)],1)],1)},ee=[],te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",[r("b-form",{on:{submit:function(t){return t.preventDefault(),e.addNewCategory(t)}}},[r("b-form-group",{attrs:{label:"New Action Category",description:"Enter a name you can use to categorize your actions"}},[r("b-form-input",{attrs:{type:"text",placeholder:"Enter a category name"},model:{value:e.categoryName,callback:function(t){e.categoryName=t},expression:"categoryName"}})],1),r("b-row",[r("b-col",[r("b-button",{attrs:{block:"",type:"submit"}},[e._v("Submit")])],1)],1)],1)],1)},re=[],ne={computed:Object(c["a"])({},X("actionCategory",["categoryName"])),methods:Object(c["a"])({},Object(i["b"])("actionCategory",["addNewCategory"]))},ae=ne,oe=Object(g["a"])(ae,te,re,!1,null,null,null),ce=oe.exports,ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("the-delete-category-modal"),r("b-card",[r("h3",[e._v("My Categories")]),r("table",{staticClass:"table table-sm table-hover"},[r("thead",[r("th",[e._v("Category Name")]),r("th")]),r("tbody",[e._l(e.categories,function(t){return[e.categoryEditId===t.id?r("tr",{key:t.id},[r("td",[r("b-form",{on:{submit:function(t){return t.preventDefault(),e.submitEdit(t)}}},[r("b-form-input",{attrs:{type:"text",placeholder:e.categoryNameToEdit},model:{value:e.categoryEditName,callback:function(t){e.categoryEditName="string"===typeof t?t.trim():t},expression:"categoryEditName"}})],1)],1),r("td",{staticClass:"d-flex justify-content-end"},[r("b-button",{attrs:{size:"sm",variant:"light"},on:{click:e.cancelEdit}},[e._v("Cancel")]),r("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:e.submitEdit}},[e._v("Save")])],1)]):r("tr",{key:t.id+"edit"},[r("td",[e._v(e._s(t.category_name))]),r("td",{staticClass:"d-flex justify-content-end"},[r("b-button",{attrs:{size:"sm",variant:"outline-info"},on:{click:function(r){return e.doEdit(t.id)}}},[e._v("Edit")]),r("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(r){return e.doDelete(t.id)}}},[e._v("Delete")])],1)])]})],2)])])],1)},se=[],ue=(r("7514"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{attrs:{"no-close-on-backdrop":"","hide-header-close":""},on:{ok:e.completeDelete,cancel:e.cancelDelete},model:{value:e.confirmCategoryDelete,callback:function(t){e.confirmCategoryDelete=t},expression:"confirmCategoryDelete"}},[r("b-form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.completeDelete(t)}}},[r("p",[e._v(' \n      If you delete the category "'),r("strong",[e._v(e._s(e.categoryDeleteName))]),e._v("\"\n      all actions you've saved under this category will be erased as well!\n    ")]),r("p",[e._v("\n      Type "),r("strong",[e._v('"DELETE '+e._s(e.categoryDeleteName.toUpperCase())+'"')]),e._v(" and hit "),r("strong",[e._v("Ok")]),e._v(" to continue.\n    ")]),r("b-form-input",{attrs:{type:"text",placeholder:"DELETE "+e.categoryDeleteName.toUpperCase()},model:{value:e.matchToDelete,callback:function(t){e.matchToDelete=t},expression:"matchToDelete"}})],1)],1)}),le=[],de={data:function(){return{matchToDelete:""}},computed:Object(c["a"])({},X("actionCategory",["confirmCategoryDelete","categoryDeleteId","categoryDeleteName"])),methods:{completeDelete:function(){this.matchToDelete==="DELETE ".concat(this.categoryDeleteName.toUpperCase())&&this.$store.dispatch("actionCategory/deleteCategory"),this.categoryDeleteId="",this.categoryDeleteName="",this.matchToDelete="",this.confirmCategoryDelete=!1},cancelDelete:function(){this.categoryDeleteId="",this.categoryDeleteName="",this.matchToDelete=""}}},me=de,pe=Object(g["a"])(me,ue,le,!1,null,null,null),fe=pe.exports,ge={components:{theDeleteCategoryModal:fe},computed:Object(c["a"])({},Object(i["d"])("myActions",["categories"]),X("actionCategory",["categoryEditId","categoryEditName","categoryDeleteId","categoryDeleteName","confirmCategoryDelete"]),{categoryNameToEdit:function(){var e=this,t=this.categories.find(function(t){return t.id===e.categoryEditId});return t?t.category_name:null}}),methods:Object(c["a"])({},Object(i["b"])("actionCategory",["deleteCategory","submitEdit"]),{doEdit:function(e){this.categoryEditId=e,this.categoryEditName=this.categoryNameToEdit},cancelEdit:function(){this.categoryEditId="",this.categoryEditName=""},doDelete:function(e){this.confirmCategoryDelete=!0,this.categoryDeleteId=e,this.categoryDeleteName=this.categories.find(function(t){return t.id===e}).category_name}})},he=ge,be=Object(g["a"])(he,ie,se,!1,null,null,null),ve=be.exports,ye=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",[r("b-form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[r("b-form-group",{attrs:{label:"Select a category",description:"Select the category under which you want to log this action"}},[r("b-form-select",{attrs:{options:e.selectableCategories},model:{value:e.selectedCategoryId,callback:function(t){e.selectedCategoryId=t},expression:"selectedCategoryId"}})],1),r("b-form-group",{attrs:{label:"Add a note"}},[r("b-form-textarea",{attrs:{rows:"3","max-rows":"3","no-resize":""},model:{value:e.description,callback:function(t){e.description="string"===typeof t?t.trim():t},expression:"description"}})],1),r("b-form-group",{attrs:{label:"Override time",description:"This action will be stored with the time of submission by default. Choose a time to override the default"}},[r("b-form-row",[r("b-col",[r("b-form-input",{attrs:{type:"date",value:e.currentDate},on:{input:function(t){e.currentDate=t}}})],1),r("b-col",[r("b-form-input",{attrs:{type:"time"},model:{value:e.overrideTime,callback:function(t){e.overrideTime=t},expression:"overrideTime"}})],1)],1)],1),r("b-form-group",[r("b-form-row",[r("b-col",{staticClass:"d-flex justify-content-end"},[r("b-button",{attrs:{variant:"primary",type:"submit"}},[e._v("Submit")])],1)],1)],1)],1)],1)},_e=[],we={mounted:function(){var e=new Date,t=e.getUTCFullYear(),r=e.getUTCMonth()+1,n=e.getUTCDate(),a=r<10?"0".concat(r):r,o=n<10?"0".concat(n):n;this.currentDate="".concat(t,"-").concat(a,"-").concat(o)},computed:Object(c["a"])({},X("newAction",["selectedCategoryId","description","currentDate","overrideTime"]),{selectableCategories:function(){return this.$store.state.myActions.categories.map(function(e){return{value:e.id,text:e.category_name}})}}),methods:Object(c["a"])({},Object(i["b"])("newAction",["addNewAction"]),{onSubmit:function(){this.selectedCategoryId?this.addNewAction():alert("You haven't selected this actions category")}})},Ee=we,Te=Object(g["a"])(Ee,ye,_e,!1,null,null,null),Oe=Te.exports,Ae={components:{theNewCategoryForm:ce,theCategoriesList:ve,theNewActionForm:Oe}},ke=Ae,xe=Object(g["a"])(ke,Z,ee,!1,null,null,null),je=xe.exports,Se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"auth"},[e.showLogin?r("section",[r("the-login-form"),r("b-button",{on:{click:function(t){e.showLogin=!1}}},[e._v("create account")])],1):r("section",[r("the-registration-form"),r("b-button",{on:{click:function(t){e.showLogin=!0}}},[e._v("go to login")])],1)])},De=[],Ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),r("button",{on:{click:e.onLogin}},[e._v("Login")])])},Ne=[],Le={data:function(){return{username:"",password:""}},methods:Object(c["a"])({},Object(i["b"])("auth",["login"]),{onLogin:function(){this.login({username:this.username,password:this.password}),this.username="",this.password=""}})},Re=Le,Ie=Object(g["a"])(Re,Ce,Ne,!1,null,null,null),Pe=Ie.exports,$e=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),r("button",{on:{click:e.onRegister}},[e._v("Register")])])},Ge=[],Ve={data:function(){return{username:"",password:""}},methods:Object(c["a"])({},Object(i["b"])("auth",["register"]),{onRegister:function(){var e=Object(G["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.register({username:this.username,password:this.password});case 3:this.username="",this.password="",this.$router.push({name:"login"}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}()})},Fe=Ve,ze=Object(g["a"])(Fe,$e,Ge,!1,null,null,null),Ue=ze.exports,Me={components:{theLoginForm:Pe,theRegistrationForm:Ue},data:function(){return{showLogin:!0}}},Je=Me,Ye=Object(g["a"])(Je,Se,De,!1,null,null,null),Be=Ye.exports,Ke=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v("\n  This is the reports page\n  "),r("pre",[e._v("    "+e._s(e.actions)+"\n  ")])])},qe=[],We={computed:Object(c["a"])({},Object(i["d"])("myActions",["actions"]))},He=We,Qe=Object(g["a"])(He,Ke,qe,!1,null,null,null),Xe=Qe.exports,Ze=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v("\n  Access Denied\n  "),r("router-link",{attrs:{to:{name:"login"}}},[e._v("Login")])],1)},et=[],tt={},rt=Object(g["a"])(tt,Ze,et,!1,null,null,null),nt=rt.exports,at=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v("\n  Oops! There's nothing here.\n  "),r("router-link",{attrs:{to:{name:"home"}}},[e._v("take me home")])],1)},ot=[],ct={},it=Object(g["a"])(ct,at,ot,!1,null,null,null),st=it.exports;n["a"].use(E["a"]);var ut=new E["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",meta:{requiresAuth:!0},component:je},{path:"/login",name:"login",component:Be},{path:"/reports",name:"reports",component:Xe,meta:{requiresAuth:!0}},{path:"/access-denied",name:"access-denied",component:nt},{path:"*",component:st}]});ut.beforeEach(function(e,t,r){e.matched.some(function(e){return e.meta.requiresAuth})?q.state.auth.accessToken&&q.getters["auth/isAuthenticated"]()?r():(q.commit("auth/CLEAR_FIELDS",["accessToken","refreshToken","errors"]),q.commit("auth/SAVE_TO_STORAGE",{STORAGE_KEY:"auth",keys:["accessToken","refreshToken"]}),ut.push({name:"login"})):r()});var lt=ut,dt=r("9f7b"),mt=r.n(dt);r("f9e3"),r("2dd8");n["a"].use(mt.a),n["a"].config.productionTip=!1,new n["a"]({router:lt,store:q,render:function(e){return e(w)}}).$mount("#app")},"64a9":function(e,t,r){}});
//# sourceMappingURL=app.5b2627e9.js.map