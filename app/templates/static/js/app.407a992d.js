(function(e){function t(t){for(var r,c,i=t[0],s=t[1],u=t[2],d=0,m=[];d<i.length;d++)c=i[d],a[c]&&m.push(a[c][0]),a[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(m.length)m.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("64a9"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("the-navbar"),n("b-container",{attrs:{fluid:"",id:"app"}},[n("b-row",{attrs:{"no-gutters":""}},[n("b-col",[n("router-view")],1)],1)],1)],1)},o=[],c=n("cebc"),i=n("2f62"),s=n("bc3a"),u=n.n(s),l=u.a.create({baseURL:"/api/v1"}),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isAuthenticated()?n("b-navbar",{attrs:{sticky:"",type:"dark",variant:"dark"}},[n("b-navbar-nav",{staticStyle:{width:"100%"}},[n("b-row",{staticStyle:{width:"100%"},attrs:{"justify-content-between":""}},[n("b-col",{staticClass:"d-flex justify-content-start"},[n("b-nav-item",{attrs:{to:"/"}},[e._v("Home")]),n("b-nav-item",{attrs:{to:"/reports"}},[e._v("Reports")])],1),n("b-col",{staticClass:"d-flex justify-content-end"},[n("b-nav-item-dropdown",{attrs:{text:e.username}},[n("b-dropdown-item",{on:{click:e.logout}},[e._v("Logout")])],1)],1)],1)],1)],1):e._e()},m=[],p={computed:Object(c["a"])({},Object(i["c"])("auth",["isAuthenticated"]),Object(i["d"])("auth",["username"])),methods:Object(c["a"])({},Object(i["b"])("auth",["logout"]))},g=p,f=n("2877"),h=Object(f["a"])(g,d,m,!1,null,null,null),b=h.exports,v={components:{theNavbar:b},computed:Object(c["a"])({},Object(i["c"])("auth",["isAuthenticated"]),Object(i["d"])("auth",["accessToken"]),Object(i["d"])("myActions",["actions","actionsLoading","categories","categoriesLoading"])),methods:Object(c["a"])({},Object(i["b"])("myActions",["getAllCategories","getAllActions"]),{shouldFetch:function(e){return this[e]&&!this[e].length&&!this["".concat(e,"Loading")]}}),watch:{accessToken:{immediate:!0,handler:function(e){e&&(l.defaults.headers.common["Authorization"]="Bearer ".concat(e),this.shouldFetch("actions")&&this.getAllActions(),this.shouldFetch("categories")&&this.getAllCategories())}}}},y=v,_=(n("034f"),Object(f["a"])(y,a,o,!1,null,null,null)),w=_.exports,A=n("8c4f"),O=n("75fc"),E=(n("7f7f"),n("5176")),T=n.n(E),D=n("f499"),j=n.n(D),x=(n("6762"),n("2fdb"),n("28a5"),n("ac6a"),n("a4bb")),k=n.n(x),S=n("7618"),C=n("a745"),L=n.n(C),N=n("768b"),R=n("0a0d"),I=n.n(R),P=(n("a481"),n("795b")),F=n.n(P),G=(n("5df3"),n("96cf"),n("3b8d")),$="auth",V={clearFields:function(e){var t=function(t,n){return e(t,n,{root:!0})};t("myActions/CLEAR_FIELDS",{actions:[],categories:[],errors:[]}),t("newAction/CLEAR_FIELDS",{currentDate:"",description:"",overrideTime:"",selectedCategoryId:null,errors:[]}),t("auth/CLEAR_FIELDS",{accessToken:"",refreshToken:"",username:"",errors:[]})}};function z(e){var t=localStorage.getItem($);return t&&(t=JSON.parse(t),k()(t).forEach(function(n){void 0!==e[n]&&(e[n]=t[n])})),e}function M(){return{accessToken:"",refreshToken:"",username:"",errors:[],loginLoading:!1}}var U={namespaced:!0,state:z(M()),mutations:{handleLoginResponse:function(e,t){e.errors=t.errors,e.accessToken=t.data.access_token,e.refreshToken=t.data.refresh_token,e.username=t.data.username}},actions:{register:function(){var e=Object(G["a"])(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,r=n.username,a=n.password,e.prev=2,e.next=5,l.post("/auth/register",{username:r,password:a});case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e["catch"](2),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,null,[[2,7]])}));function t(t,n){return e.apply(this,arguments)}return t}(),login:function(){var e=Object(G["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,o,c,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.state,o=n.username,c=n.password,e.prev=2,r("LOADING",["login",!0]),e.next=6,l({url:"/auth/login",method:"POST",data:{username:o,password:c}});case 6:i=e.sent,r("handleLoginResponse",i.data),r("SAVE_TO_STORAGE",{STORAGE_KEY:$,keys:["accessToken","refreshToken","username"]}),vt.push({name:"home"}),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](2),r("SET_STATE_VAL",["errors",[].concat(Object(O["a"])(a.errors),[e.t0.message])]);case 15:return e.prev=15,r("LOADING",["login",!1]),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[2,12,15,18]])}));function t(t,n){return e.apply(this,arguments)}return t}(),logout:function(e){var t=e.commit,n=e.state;F.a.all([l({url:"/auth/logout-access",method:"POST"}),l({url:"/auth/logout-refresh",method:"POST",headers:{Authorization:"Bearer ".concat(n.refreshToken)}})]).then(function(e){}).catch(function(e){console.error("ERROR LOGIN OUT",e)}).finally(function(){V.clearFields(t),t("SAVE_TO_STORAGE",{STORAGE_KEY:$,keys:k()(n)}),vt.push({name:"login"})})},refresh:function(){var e=Object(G["a"])(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,e.prev=1,e.next=4,l({url:"/auth/refresh",method:"POST",headers:{Authorization:"Bearer ".concat(r.refreshToken)}});case 4:a=e.sent,n("SET_STATE_VAL",["accessToken",a.data.data.access_token]),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),n("SET_STATE_VAL",["errors",[].concat(Object(O["a"])(r.errors),[e.t0.message])]);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));function t(t){return e.apply(this,arguments)}return t}()},getters:{parseJWT:function(e){if(e.accessToken){var t=e.accessToken.split(".")[1],n=t.replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(window.atob(n))}return null},isAuthenticated:function(e,t){return t.parseJWT?function(){var e=I()().valueOf()/1e3,n=t.parseJWT.exp;return n>e}:function(){return!1}}}},B={filterByDate:function(e,t){var n=new Date(e.d1),r=new Date(n.getTime()+6e4*n.getTimezoneOffset()),a=new Date(r.getTime()+864e5),o=new Date(t),c=new Date(o.getTime()+o.getTimezoneOffset());return c>r&&c<a}},J={state:{categories:[],categoriesLoading:!1,actions:[],actionsLoading:!1,errors:[],d1:""},actions:{getAllCategories:function(){var e=Object(G["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=t.state,e.prev=1,r("LOADING",["categories",!0]),e.next=5,l.get("/action-category/");case 5:o=e.sent,r("SET_STATE_VAL",["categories",o.data.data.action_categories]),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),r("SET_STATE_VAL",["errors",[].concat(Object(O["a"])(a.errors),[e.t0.message])]);case 12:return e.prev=12,r("LOADING",["categories",!1]),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,9,12,15]])}));function t(t,n){return e.apply(this,arguments)}return t}(),getAllActions:function(){var e=Object(G["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,t.state,e.prev=1,n("LOADING",["actions",!0]),e.next=5,l.get("/action-taken/");case 5:r=e.sent,n("SET_STATE_VAL",["actions",r.data.data.actions.map(function(e){return e.displayDate=new Date(e.ts).toLocaleString(),e})]),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),n("ERROR",e.t0.message);case 12:return e.prev=12,n("LOADING",["actions",!1]),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,9,12,15]])}));function t(t){return e.apply(this,arguments)}return t}(),getAllActionsByDate:function(e,t){e.commit},getAllActionsByCategory:function(e,t){e.commit},deleteAction:function(e,t){e.commit},editAction:function(e,t){e.commit}},getters:{dateAndCategory:function(e){return e.actions&&e.d1?e.actions.reduce(function(t,n){return B.filterByDate(e,n.ts)&&(t[n.category_name]||(t[n.category_name]=[]),t[n.category_name].push({description:n.description,displayDate:n.displayDate})),t},{}):null}}},Y={state:{selectedCategoryId:null,description:"",currentDate:"",overrideTime:"",errors:[],submissionLoading:!1},actions:{addNewAction:function(){var e=Object(G["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.dispatch,a=t.state,e.prev=1,n("LOADING",["submission",!0]),o=a.overrideTime?new Date(a.currentDate+" "+a.overrideTime).toISOString():(new Date).toISOString(),c={ts:o,description:a.description,category_id:a.selectedCategoryId},e.next=7,l.post("/action-taken/",{action:c});case 7:e.sent,r("myActions/getAllActions",null,{root:!0}),n("CLEAR_FIELDS",{selectedCategoryId:null,description:"",overrideTime:""}),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),n("ERROR",e.t0);case 15:return e.prev=15,n("LOADING",["submission",!1]),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[1,12,15,18]])}));function t(t){return e.apply(this,arguments)}return t}()}},q={state:{categoryName:"",categoryEditId:"",categoryEditName:"",categoryDeleteId:"",categoryDeleteName:"",confirmCategoryDelete:!1,categoryNameLoading:!1,errors:[]},actions:{addNewCategory:function(){var e=Object(G["a"])(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.state,!r.categoryName){e.next=17;break}return e.prev=2,n("LOADING",["categoryName",!0]),e.next=6,l.post("/action-category/",{category_name:r.categoryName.trim()});case 6:a=e.sent,n("myActions/SET_STATE_VAL",["categories",a.data.data.action_categories],{root:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),n("SET_STATE_VAL",["errors",[].concat(Object(O["a"])(r.errors),[e.t0.message])]);case 13:return e.prev=13,n("LOADING",["categoryName",!1]),n("CLEAR_FIELDS",["categoryName"]),e.finish(13);case 17:case"end":return e.stop()}},e,null,[[2,10,13,17]])}));function t(t){return e.apply(this,arguments)}return t}(),submitEdit:function(){var e=Object(G["a"])(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.dispatch,a=t.state,!a.categoryEditName){e.next=15;break}return e.prev=2,e.next=5,l.put("/action-category/",{new_category_name:a.categoryEditName,category_id:a.categoryEditId});case 5:r("myActions/getAllCategories",null,{root:!0}),r("myActions/getAllActions",null,{root:!0}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),n("SET_STATE_VAL",["errors",[].concat(Object(O["a"])(a.errors),[e.t0.message])]);case 12:return e.prev=12,n("CLEAR_FIELDS",["categoryEditId","categoryEditName"]),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[2,9,12,15]])}));function t(t){return e.apply(this,arguments)}return t}(),deleteCategory:function(){var e=Object(G["a"])(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.dispatch,a=t.state,e.prev=1,e.next=4,l.delete("/action-category/".concat(a.categoryDeleteId));case 4:e.sent,r("myActions/getAllCategories",null,{root:!0}),r("myActions/getAllActions",null,{root:!0}),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0),n("SET_STATE_VAL",["errors",[].concat(Object(O["a"])(a.errors),[e.t0.message])]);case 13:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t){return e.apply(this,arguments)}return t}()}};r["a"].use(i["a"]);var K={LOADING:function(e,t){var n=Object(N["a"])(t,2),r=n[0],a=n[1];void 0!==e["".concat(r,"Loading")]?e["".concat(r,"Loading")]=a:console.error("state.".concat(r,"Loading does not exist."))},MAP_TO_STATE:function(e,t){var n=t.payload,r=t.nested,a=void 0!==r&&r,o=function(e){return e&&!L()(e)&&"object"===Object(S["a"])(e)};(function e(t,n){var r=k()(t);r.forEach(function(r){o(t[r])&&a&&void 0!==n[r]?e(t[r],n[r]):void 0!==n[r]&&(t[r]=n[r])})})(e,n)},SET_STATE_VAL:function(e,t){var n=Object(N["a"])(t,4),r=n[0],a=n[1],o=n[2],c=void 0!==o&&o,i=n[3],s=void 0!==i&&i;c?K.MAP_TO_STATE(e[r],{payload:a,nested:s}):e[r]=a},SET_STATE:function(e,t){var n=t.key,r=t.data,a=e;n.split(".").reduce(function(e,t,n,o){return n===o.length-1?a[t]=r:a=a[t],a},a)},ERROR:function(e,t){L()(e.errors)?e.errors.push(t):console.error("State does not have an Array property named `errors`")},SAVE_TO_STORAGE:function(e,t){var n=t.STORAGE_KEY,r=t.keys,a=k()(e).reduce(function(t,n){return r.includes(n)&&(t[n]=e[n]),t},{});localStorage.setItem(n,j()(a))},CLEAR_FIELDS:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t&&!L()(t)&&"object"===Object(S["a"])(t)?k()(t).forEach(function(n){e[n]=t[n]}):t.forEach(function(t){e[t]=""})}};function W(e,t){return t.mutations=Object(c["a"])({},t.mutations,K),T()(e,t)}var H=new i["a"].Store(Q({strict:!1,modules:{auth:U,myActions:J,newAction:Y,actionCategory:q}}));function Q(e){var t=W({namespaced:!0,state:{},mutations:{},actions:{},getters:{},modules:{}},e);return t.modules=X(t.modules),t}function X(e){return k()(e).reduce(function(t,n){return t[n]=Q(e[n]),t},{})}function Z(e,t){var n=H.state;return[].concat(Object(O["a"])(e.split("/")),[t]).reduce(function(e,t){return n=n[t],n},n)}function ee(e,t){return t.reduce(function(t,n){return t[n]={get:function(){return Z(e,n)},set:function(t){return H.commit(e+"/SET_STATE",{key:n,data:t})}},t},{})}var te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-row",[n("b-col",[n("b-card",{attrs:{"no-body":""}},[n("b-tabs",{attrs:{card:"",pills:""}},[n("b-tab",{attrs:{title:"New Action",active:""}},[n("the-new-action-form")],1),n("b-tab",{attrs:{title:"Action Categories"}},[n("b-row",[n("b-col",[n("the-new-category-form")],1)],1),n("b-row",{staticClass:"my-4"},[n("b-col",[n("the-categories-list")],1)],1)],1)],1)],1)],1)],1)},ne=[],re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",[n("b-form",{on:{submit:function(t){return t.preventDefault(),e.addNewCategory(t)}}},[n("b-form-group",{attrs:{label:"New Action Category",description:"Enter a name you can use to categorize your actions"}},[n("b-form-input",{attrs:{type:"text",placeholder:"Enter a category name"},model:{value:e.categoryName,callback:function(t){e.categoryName=t},expression:"categoryName"}})],1),n("b-row",[n("b-col",[n("b-button",{attrs:{block:"",type:"submit"}},[e._v("Submit")])],1)],1)],1)],1)},ae=[],oe={computed:Object(c["a"])({},ee("actionCategory",["categoryName"])),methods:Object(c["a"])({},Object(i["b"])("actionCategory",["addNewCategory"]))},ce=oe,ie=Object(f["a"])(ce,re,ae,!1,null,null,null),se=ie.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("the-delete-category-modal"),n("b-card",[n("h3",[e._v("My Categories")]),n("table",{staticClass:"table table-sm table-hover"},[n("thead",[n("th",[e._v("Category Name")]),n("th")]),n("tbody",[e._l(e.categories,function(t){return[e.categoryEditId===t.id?n("tr",{key:t.id},[n("td",[n("b-form",{on:{submit:function(t){return t.preventDefault(),e.submitEdit(t)}}},[n("b-form-input",{attrs:{type:"text",placeholder:e.categoryNameToEdit},model:{value:e.categoryEditName,callback:function(t){e.categoryEditName="string"===typeof t?t.trim():t},expression:"categoryEditName"}})],1)],1),n("td",{staticClass:"d-flex justify-content-end"},[n("b-button",{attrs:{size:"sm",variant:"light"},on:{click:e.cancelEdit}},[e._v("Cancel")]),n("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:e.submitEdit}},[e._v("Save")])],1)]):n("tr",{key:t.id+"edit"},[n("td",[e._v(e._s(t.category_name))]),n("td",{staticClass:"d-flex justify-content-end"},[n("b-button",{attrs:{size:"sm",variant:"outline-info"},on:{click:function(n){return e.doEdit(t.id)}}},[e._v("Edit")]),n("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(n){return e.doDelete(t.id)}}},[e._v("Delete")])],1)])]})],2)])])],1)},le=[],de=(n("7514"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{"no-close-on-backdrop":"","hide-header-close":""},on:{ok:e.completeDelete,cancel:e.cancelDelete},model:{value:e.confirmCategoryDelete,callback:function(t){e.confirmCategoryDelete=t},expression:"confirmCategoryDelete"}},[n("b-form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.completeDelete(t)}}},[n("p",[e._v(' \n      If you delete the category "'),n("strong",[e._v(e._s(e.categoryDeleteName))]),e._v("\"\n      all actions you've saved under this category will be erased as well!\n    ")]),n("p",[e._v("\n      Type "),n("strong",[e._v('"DELETE '+e._s(e.categoryDeleteName.toUpperCase())+'"')]),e._v(" and hit "),n("strong",[e._v("Ok")]),e._v(" to continue.\n    ")]),n("b-form-input",{attrs:{type:"text",placeholder:"DELETE "+e.categoryDeleteName.toUpperCase()},model:{value:e.matchToDelete,callback:function(t){e.matchToDelete=t},expression:"matchToDelete"}})],1)],1)}),me=[],pe={data:function(){return{matchToDelete:""}},computed:Object(c["a"])({},ee("actionCategory",["confirmCategoryDelete","categoryDeleteId","categoryDeleteName"])),methods:{completeDelete:function(){this.matchToDelete==="DELETE ".concat(this.categoryDeleteName.toUpperCase())&&this.$store.dispatch("actionCategory/deleteCategory"),this.categoryDeleteId="",this.categoryDeleteName="",this.matchToDelete="",this.confirmCategoryDelete=!1},cancelDelete:function(){this.categoryDeleteId="",this.categoryDeleteName="",this.matchToDelete=""}}},ge=pe,fe=Object(f["a"])(ge,de,me,!1,null,null,null),he=fe.exports,be={components:{theDeleteCategoryModal:he},computed:Object(c["a"])({},Object(i["d"])("myActions",["categories"]),ee("actionCategory",["categoryEditId","categoryEditName","categoryDeleteId","categoryDeleteName","confirmCategoryDelete"]),{categoryNameToEdit:function(){var e=this,t=this.categories.find(function(t){return t.id===e.categoryEditId});return t?t.category_name:null}}),methods:Object(c["a"])({},Object(i["b"])("actionCategory",["deleteCategory","submitEdit"]),{doEdit:function(e){this.categoryEditId=e,this.categoryEditName=this.categoryNameToEdit},cancelEdit:function(){this.categoryEditId="",this.categoryEditName=""},doDelete:function(e){this.confirmCategoryDelete=!0,this.categoryDeleteId=e,this.categoryDeleteName=this.categories.find(function(t){return t.id===e}).category_name}})},ve=be,ye=Object(f["a"])(ve,ue,le,!1,null,null,null),_e=ye.exports,we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",[n("b-form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[n("b-form-group",{attrs:{label:"Select a category",description:"Select the category under which you want to log this action"}},[n("b-form-select",{attrs:{options:e.selectableCategories},model:{value:e.selectedCategoryId,callback:function(t){e.selectedCategoryId=t},expression:"selectedCategoryId"}})],1),n("b-form-group",{attrs:{label:"Add a note"}},[n("b-form-textarea",{attrs:{rows:"3","max-rows":"3","no-resize":""},model:{value:e.description,callback:function(t){e.description="string"===typeof t?t.trim():t},expression:"description"}})],1),n("b-form-group",{attrs:{label:"Override time",description:"This action will be stored with the time of submission by default. Choose a time to override the default"}},[n("b-form-row",[n("b-col",[n("b-form-input",{attrs:{type:"date",value:e.currentDate},on:{input:function(t){e.currentDate=t}}})],1),n("b-col",[n("b-form-input",{attrs:{type:"time"},model:{value:e.overrideTime,callback:function(t){e.overrideTime=t},expression:"overrideTime"}})],1)],1)],1),n("b-form-group",[n("b-form-row",[n("b-col",{staticClass:"d-flex justify-content-center"},[n("b-button",{attrs:{block:"",variant:"primary",type:"submit",disabled:e.submissionLoading}},[e.submissionLoading?n("b-spinner",{attrs:{label:"Submitting..."}}):n("span",[e._v("Submit")])],1)],1)],1)],1)],1)],1)},Ae=[],Oe={mounted:function(){var e=new Date,t=e.getUTCFullYear(),n=e.getUTCMonth()+1,r=e.getUTCDate(),a=n<10?"0".concat(n):n,o=r<10?"0".concat(r):r;this.currentDate="".concat(t,"-").concat(a,"-").concat(o)},computed:Object(c["a"])({},ee("newAction",["selectedCategoryId","description","currentDate","overrideTime"]),Object(i["d"])("newAction",["submissionLoading"]),{selectableCategories:function(){var e=this.$store.state.myActions.categories.map(function(e){return{value:e.id,text:e.category_name}});return[{value:null,text:"Please select an option"}].concat(Object(O["a"])(e))}}),methods:Object(c["a"])({},Object(i["b"])("newAction",["addNewAction"]),{onSubmit:function(){this.selectedCategoryId?this.addNewAction():alert("You haven't selected this actions category")}})},Ee=Oe,Te=Object(f["a"])(Ee,we,Ae,!1,null,null,null),De=Te.exports,je={components:{theNewCategoryForm:se,theCategoriesList:_e,theNewActionForm:De}},xe=je,ke=Object(f["a"])(xe,te,ne,!1,null,null,null),Se=ke.exports,Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"auth"},[e.showLogin?n("section",[n("the-login-form"),n("b-button",{on:{click:function(t){e.showLogin=!1}}},[e._v("create account")])],1):n("section",[n("the-registration-form"),n("b-button",{on:{click:function(t){e.showLogin=!0}}},[e._v("go to login")])],1)])},Le=[],Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("b-button",{on:{click:e.onLogin}},[e.loginLoading?n("b-spinner"):n("span",[e._v("Login")])],1)],1)},Re=[],Ie={data:function(){return{username:"",password:""}},computed:Object(c["a"])({},Object(i["d"])("auth",["loginLoading"])),methods:Object(c["a"])({},Object(i["b"])("auth",["login"]),{onLogin:function(){this.login({username:this.username,password:this.password}),this.username="",this.password=""}})},Pe=Ie,Fe=Object(f["a"])(Pe,Ne,Re,!1,null,null,null),Ge=Fe.exports,$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"register"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("button",{on:{click:e.onRegister}},[e._v("Register")])])},Ve=[],ze={data:function(){return{username:"",password:""}},methods:Object(c["a"])({},Object(i["b"])("auth",["register"]),{onRegister:function(){var e=Object(G["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.register({username:this.username,password:this.password});case 3:this.username="",this.password="",this.$router.push({name:"login"}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}()})},Me=ze,Ue=Object(f["a"])(Me,$e,Ve,!1,null,null,null),Be=Ue.exports,Je={components:{theLoginForm:Ge,theRegistrationForm:Be},data:function(){return{showLogin:!0}}},Ye=Je,qe=Object(f["a"])(Ye,Ce,Le,!1,null,null,null),Ke=qe.exports,We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("the-actions-list")],1)},He=[],Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",[n("b-form-input",{attrs:{type:"date"},model:{value:e.d1,callback:function(t){e.d1=t},expression:"d1"}}),n("b-card-text",[n("b-form-row",e._l(e.categories,function(t){return n("b-col",{key:t,staticStyle:{height:"50px","min-width":"180"}},[e._v("\n       "+e._s(t)+": "+e._s(e.dateAndCategory[t].length)+"\n      ")])}),1),n("pre",[e._v("      "+e._s(e.dateAndCategory)+"\n    ")])],1)],1)},Xe=[],Ze=(n("6b54"),{computed:Object(c["a"])({},ee("myActions",["d1"]),Object(i["d"])("myActions",["actions"]),Object(i["c"])("myActions",["dateAndCategory"]),{categories:function(){return this.dateAndCategory?k()(this.dateAndCategory):[]}}),mounted:function(){var e=new Date,t=e.getFullYear().toString(),n=(e.getMonth()+1).toString(),r=e.getDate().toString();n=1===n.length?"0".concat(n):n,r=1===r.length?"0".concat(r):r,this.d1="".concat(t,"-").concat(n,"-").concat(r)}}),et=Ze,tt=Object(f["a"])(et,Qe,Xe,!1,null,null,null),nt=tt.exports,rt={components:{theActionsList:nt}},at=rt,ot=Object(f["a"])(at,We,He,!1,null,null,null),ct=ot.exports,it=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  Access Denied\n  "),n("router-link",{attrs:{to:{name:"login"}}},[e._v("Login")])],1)},st=[],ut={},lt=Object(f["a"])(ut,it,st,!1,null,null,null),dt=lt.exports,mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  Oops! There's nothing here.\n  "),n("router-link",{attrs:{to:{name:"home"}}},[e._v("take me home")])],1)},pt=[],gt={},ft=Object(f["a"])(gt,mt,pt,!1,null,null,null),ht=ft.exports;r["a"].use(A["a"]);var bt=new A["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",meta:{requiresAuth:!0},component:Se},{path:"/login",name:"login",component:Ke},{path:"/reports",name:"reports",component:ct,meta:{requiresAuth:!0}},{path:"/access-denied",name:"access-denied",component:dt},{path:"*",component:ht}]});bt.beforeEach(function(e,t,n){e.matched.some(function(e){return e.meta.requiresAuth})?H.state.auth.accessToken&&H.getters["auth/isAuthenticated"]()?n():H.dispatch("auth/logout"):n()});var vt=bt,yt=n("9f7b"),_t=n.n(yt);n("f9e3"),n("2dd8");r["a"].use(_t.a),r["a"].config.productionTip=!1,new r["a"]({router:vt,store:H,render:function(e){return e(w)}}).$mount("#app")},"64a9":function(e,t,n){}});
//# sourceMappingURL=app.407a992d.js.map